You are an expert Node.js and Express developer. Your task is to refactor and harden this Replit project to function exclusively as a Headless API service. The frontend client runs remotely on Expo.dev, and Replit must only serve the API.

1. Workflow Command Fix (Backend Isolation)
The existing workflow is likely running npm run dev which starts the frontend. We must isolate the backend server start command.

Change Workflow: Ensure the primary workflow is set to run the backend file directly using node and not through npm run dev.

Goal: The workflow must run node backend/src/server.js (as per previous context) without any npm run dev command running in parallel.

2. backend/src/server.js Code Refactoring
The following lines must be removed or modified to ensure the API is fully isolated, secure, and compatible with the remote Expo client.

A. Remove Frontend/Static File Logic
Delete Static File Middleware: This is causing the confusion about the "Web UI available" message and blocking clean terminal output.

Delete the line: app.use(express.static(path.join(__dirname, '../public')));

Remove Root/Index Route: The root endpoint (/) should not serve a file; it should respond with API status.

Delete the entire block:

JavaScript

// Serve index on root
app.get('/', (req, res) => {
  res.sendFile(path.join(__dirname, '...')); // Remove this entire block
});
B. Finalize Dynamic URL for Expo
The reset link must be a clean route that the Expo client can interpret.

In the /api/auth/request-reset endpoint:

Implement Dynamic baseUrl: Ensure the baseUrl is constructed dynamically from the request headers to support any Expo dev or production URL.

JavaScript

// DYNAMIC URL DETECTION
const protocol = req.headers['x-forwarded-proto'] || 'https';
const host = req.get('host'); 
const baseUrl = `${protocol}://${host}`;

// Ensure the resetLink uses the dynamically calculated baseUrl
const resetLink = `${baseUrl}/reset-password?token=${resetToken}`; // NO .html extension
Remove .html: Change the link construction from /reset-password.html to /reset-password (the expected route for the Expo app).

C. API Health and Security
Set Root Endpoint: Add a basic response to the root path (/) to confirm the API is running, replacing the old file serving logic.

JavaScript

app.get('/', (req, res) => {
    res.json({ status: 'API running', service: 'NexusComs Backend' });
});
CORS Configuration: Verify the cors initialization is at the top to allow cross-origin requests from the Expo client.

3. Cleanup and Verification
Delete Unused Files: Since the backend no longer serves static files, delete the following files from the repository to prevent confusion and errors:

backend/public/reset-password.html

backend/public/index.html (and any other files in backend/public/)

Final Server Log: Ensure the log on startup is accurate. Change the final app.listen log:

Change: Web UI available at http://localhost:${PORT}

To: API Endpoints available at http://localhost:${PORT}

Please apply these detailed changes to optimize the backend for a pure API role now.